<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>多标题仪表盘</title>

    <script type="text/javascript" src="./js/echarts.js"></script>
    <script type="text/javascript" src="js/axios.js"></script>
</head>

<style>
    #container {
        width: 70vw;
        height: 70vh;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
</style>
<body>
<div id="container"></div>
<script>

    //初始化echarts实例
    var chart = echarts.init(document.getElementById('container'));


    function getGaugeData()
    {
        return [
            {
                value: (function ()
                {
                    return (Math.random() * 100).toFixed(2)
                }()),
                name: 'CPU使用率',
                title: {
                    offsetCenter: ['-40%', '80%']
                },
                detail: {
                    offsetCenter: ['-40%', '95%']
                }
            },
            {
                value: (function ()
                {
                    return (Math.random() * 100).toFixed(2)
                }()),
                name: '内存使用率',
                title: {
                    offsetCenter: ['0%', '80%']
                },
                detail: {
                    offsetCenter: ['0%', '95%']
                }
            },
            {
                value: (function ()
                {
                    return (Math.random() * 100).toFixed(2)
                }()),
                name: 'GPU使用率',
                title: {
                    offsetCenter: ['40%', '80%']
                },
                detail: {
                    offsetCenter: ['40%', '95%']
                }
            }
        ];
    }

    // 指定图表的配置项和数据
    var option =
        {
            series: [
                {
                    type: 'gauge',
                    anchor: {
                        show: true,
                        showAbove: true,
                        size: 18,
                        itemStyle: {
                            color: '#FAC858'
                        }
                    },
                    pointer: {
                        icon: 'path://M2.9,0.7L2.9,0.7c1.4,0,2.6,1.2,2.6,2.6v115c0,1.4-1.2,2.6-2.6,2.6l0,0c-1.4,0-2.6-1.2-2.6-2.6V3.3C0.3,1.9,1.4,0.7,2.9,0.7z',
                        width: 8,
                        length: '80%',
                        offsetCenter: [0, '8%']
                    },
                    progress: {
                        show: true,
                        overlap: true,
                        roundCap: true
                    },
                    axisLine: {
                        roundCap: true
                    },
                    data: getGaugeData(),
                    title: {
                        fontSize: 14
                    },
                    detail: {
                        width: 40,
                        height: 14,
                        fontSize: 14,
                        color: '#fff',
                        backgroundColor: 'inherit',
                        borderRadius: 3,
                        formatter: '{value}%'
                    }
                }
            ]
        };

    //使用刚指定的配置项和数据显示图表
    chart.setOption(option);


    setInterval(function ()
    {
        chart.setOption(
            {
                series: [
                    {
                        data: getGaugeData()
                    }
                ]
            }
        )
    }, 2000)
</script>

</body>
</html>
